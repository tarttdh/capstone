{"ast":null,"code":"import _slicedToArray from\"/mnt/c/capstone/connect/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Modal from\"react-bootstrap/Modal\";import Button from\"react-bootstrap/Button\";import{useAuth0}from\"@auth0/auth0-react\";import saveNoteCom from\"../utils/saveNoteCom\";import saveNote from\"../utils/saveNote\";import DisplayRecommend from\"./Display\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var leftButtonStyles={float:\"left\",padding:\"5px 10px\",fontSize:\"12px\",marginRight:\"10px\"};var rightButtonStyles={float:\"right\",padding:\"5px 10px\",fontSize:\"12px\",marginRight:\"10px\"};var modalArticleStyle_notes={width:\"66%\"};var modalArticleStyle={width:\"100%\"};var modalCommentsStyle_notes={width:\"30%\",height:\"100%\",visibility:\"visible\",position:\"fixed\",right:0,left:\"65%\",\"@media (max-width: 768px)\":{width:\"100%\",left:0,right:0,bottom:0,height:\"50vh\",overflowY:\"scroll\",maxWidth:\"100%\"}};var modalCommentsStyle={width:\"30%\",height:\"100%\",visibility:\"hidden\",position:\"fixed\",right:0,left:\"65%\",\"@media (max-width: 768px)\":{width:\"100%\",left:0,right:0,bottom:0,height:\"50vh\",overflowY:\"scroll\",maxWidth:\"100%\"}};var ArticleDetails=function ArticleDetails(_ref){var article=_ref.article;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useAuth=useAuth0(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showNotes=_useState4[0],setShowNotes=_useState4[1];var handleClose=function handleClose(){return setShow(false);};useEffect(function(){setShow(true);// set show to true when component is mounted to show modal\n},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{size:showNotes===true?\"xl\":\"lg\",style:{width:\"100%\"},show:show,onHide:handleClose,children:[/*#__PURE__*/_jsxs(Modal.Header,{closeButton:true,display:\"flex\",children:[/*#__PURE__*/_jsx(Button,{style:rightButtonStyles,onClick:function onClick(){return setShowNotes(!showNotes);},children:showNotes===true?/*#__PURE__*/_jsx(\"span\",{children:\"Hide Comments\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Create Comments\"})}),/*#__PURE__*/_jsx(Modal.Title,{style:{textAlign:\"center\",marginRight:\"auto\"},children:article.Title})]}),/*#__PURE__*/_jsxs(Modal.Body,{style:{color:\"black\",fontWeight:\"bold\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:showNotes===true?modalArticleStyle_notes:modalArticleStyle,children:[/*#__PURE__*/_jsx(\"img\",{src:article.Image,style:{textAlign:\"center\",maxWidth:\"100%\",maxHeight:\"500px\"},alt:article.Title}),/*#__PURE__*/_jsx(\"p\",{}),article.Text.split(\"\\n\").map(function(paragraph,idx){return/*#__PURE__*/_jsx(\"p\",{children:paragraph.replace(/\\s\\s+/g,\" \")},idx);})]}),/*#__PURE__*/_jsxs(\"div\",{style:showNotes===true?modalCommentsStyle_notes:modalCommentsStyle,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter comments\",name:\"Comment\",rows:\"4\",cols:\"40\",id:\"comment\",style:{\"@media (max-width: 768px)\":{width:\"100%\",left:0,right:0,bottom:0,height:\"50vh\",overflowY:\"scroll\",maxWidth:\"100%\"}}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){if(isAuthenticated){if(document.querySelector(\"#comment\").value!==\"\"){saveNoteCom(user.email,document.querySelector(\"#comment\").value,article.Title,article.URL);alert(\"article saved!\");}else{alert(\"no context in comments area\");}}else{alert('Please log in to save article + comments to profile.');// Display a message prompting the user to log in\n}},children:\"Save article + comments\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{style:leftButtonStyles,onClick:function onClick(){// console.log(user.email)\n// console.log(article.Title)\n// console.log(article.URL)\nif(isAuthenticated){// Check if the user is authenticated\nsaveNote(user.email,article.Title,article.URL);// Save the note to the user's profile\nalert('article saved!');// Display a success message\n}else{alert('Please log in to save article to profile.');// Display a message prompting the user to log in\n}},children:\"Save Article\"}),/*#__PURE__*/_jsx(Button,{style:leftButtonStyles,onClick:function onClick(){// changed to article.cluster\nDisplayRecommend(article.Category);},children:\"Recommended \"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})]})]})});};export default ArticleDetails;","map":{"version":3,"sources":["/mnt/c/capstone/connect/src/components/ArticleDetails.js"],"names":["React","useState","useEffect","Modal","Button","useAuth0","saveNoteCom","saveNote","DisplayRecommend","leftButtonStyles","float","padding","fontSize","marginRight","rightButtonStyles","modalArticleStyle_notes","width","modalArticleStyle","modalCommentsStyle_notes","height","visibility","position","right","left","bottom","overflowY","maxWidth","modalCommentsStyle","ArticleDetails","article","show","setShow","user","isAuthenticated","showNotes","setShowNotes","handleClose","textAlign","Title","color","fontWeight","display","flexDirection","justifyContent","Image","maxHeight","Text","split","map","paragraph","idx","replace","document","querySelector","value","email","URL","alert","Category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport saveNoteCom from \"../utils/saveNoteCom\";\r\nimport saveNote from \"../utils/saveNote\";\r\nimport DisplayRecommend from \"./Display\";\r\n\r\nconst leftButtonStyles = {\r\n  float: \"left\",\r\n  padding: \"5px 10px\",\r\n  fontSize: \"12px\",\r\n  marginRight: \"10px\",\r\n};\r\nconst rightButtonStyles = {\r\n  float: \"right\",\r\n  padding: \"5px 10px\",\r\n  fontSize: \"12px\",\r\n  marginRight: \"10px\",\r\n};\r\n\r\nconst modalArticleStyle_notes = {\r\n  width: \"66%\",\r\n};\r\n\r\nconst modalArticleStyle = {\r\n  width: \"100%\",\r\n};\r\n\r\nconst modalCommentsStyle_notes = {\r\n  width: \"30%\",\r\n  height: \"100%\",\r\n  visibility: \"visible\",\r\n  position: \"fixed\",\r\n  right: 0,\r\n  left: \"65%\",\r\n  \"@media (max-width: 768px)\": {\r\n    width: \"100%\",\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    height: \"50vh\",\r\n    overflowY: \"scroll\",\r\n    maxWidth: \"100%\",\r\n  },\r\n};\r\n\r\nconst modalCommentsStyle = {\r\n  width: \"30%\",\r\n  height: \"100%\",\r\n  visibility: \"hidden\",\r\n  position: \"fixed\",\r\n  right: 0,\r\n  left: \"65%\",\r\n  \"@media (max-width: 768px)\": {\r\n    width: \"100%\",\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    height: \"50vh\",\r\n    overflowY: \"scroll\",\r\n    maxWidth: \"100%\",\r\n  },\r\n};\r\n\r\nconst ArticleDetails = ({ article }) => {\r\n  const [show, setShow] = useState(false);\r\n  const { user, isAuthenticated } = useAuth0();\r\n  const [showNotes, setShowNotes] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n\r\n  useEffect(() => {\r\n    setShow(true); // set show to true when component is mounted to show modal\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      \r\n\r\n      <Modal \r\n        size={showNotes === true ? \"xl\" : \"lg\"}\r\n        style={{ width: \"100%\" }}\r\n        show={show}\r\n        onHide={handleClose}\r\n      >\r\n        <Modal.Header closeButton display=\"flex\">\r\n          <Button\r\n            style={rightButtonStyles}\r\n            onClick={() => setShowNotes(!showNotes)}\r\n          >\r\n            {showNotes === true ? (\r\n              <span>Hide Comments</span>\r\n            ) : (\r\n              <span>Create Comments</span>\r\n            )}\r\n          </Button>\r\n          <Modal.Title style={{ textAlign: \"center\", marginRight: \"auto\" }}>\r\n            {article.Title}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body\r\n          style={{\r\n            color: \"black\",\r\n            fontWeight: \"bold\",\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <div\r\n            style={\r\n              showNotes === true ? modalArticleStyle_notes : modalArticleStyle\r\n            }\r\n          >\r\n            <img\r\n              src={article.Image}\r\n              style={{\r\n                textAlign: \"center\",\r\n                maxWidth: \"100%\",\r\n                maxHeight: \"500px\",\r\n              }}\r\n              alt={article.Title}\r\n            />\r\n            <p></p>\r\n            {article.Text.split(\"\\n\").map((paragraph, idx) => (\r\n              <p key={idx}>{paragraph.replace(/\\s\\s+/g, \" \")}</p>\r\n            ))}\r\n          </div>\r\n          <div\r\n            style={\r\n              showNotes === true\r\n                ? modalCommentsStyle_notes\r\n                : modalCommentsStyle\r\n            }\r\n          >\r\n            <h5>Comments</h5>\r\n            <textarea\r\n              placeholder=\"Enter comments\"\r\n              name=\"Comment\"\r\n              rows=\"4\"\r\n              cols=\"40\"\r\n              id=\"comment\"\r\n              style={{\r\n              \"@media (max-width: 768px)\": {\r\n                width: \"100%\",\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                height: \"50vh\",\r\n                overflowY: \"scroll\",\r\n                maxWidth: \"100%\",\r\n              },}}\r\n            ></textarea>\r\n            <Button\r\n              onClick={() => {\r\n                if (isAuthenticated) {\r\n                  if (document.querySelector(\"#comment\").value !== \"\") {\r\n                    saveNoteCom(\r\n                      user.email,\r\n                      document.querySelector(\"#comment\").value,\r\n                      article.Title,\r\n                      article.URL\r\n                    );\r\n                    alert(\"article saved!\");\r\n                  } else {\r\n                    alert(\"no context in comments area\");\r\n                  }\r\n                } else\r\n                     {\r\n                alert('Please log in to save article + comments to profile.'); // Display a message prompting the user to log in\r\n              }\r\n            }}\r\n            >\r\n              \r\n              Save article + comments\r\n            </Button>\r\n          </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n        <Button\r\n            style={leftButtonStyles}\r\n            onClick={() => {\r\n              // console.log(user.email)\r\n              // console.log(article.Title)\r\n              // console.log(article.URL)\r\n              if (isAuthenticated) { // Check if the user is authenticated\r\n                saveNote(user.email, article.Title, article.URL); // Save the note to the user's profile\r\n                alert('article saved!'); // Display a success message\r\n              } else {\r\n                alert('Please log in to save article to profile.'); // Display a message prompting the user to log in\r\n              }\r\n              \r\n              \r\n            }}\r\n          >\r\n            Save Article\r\n          </Button>\r\n          <Button\r\n            style={leftButtonStyles}\r\n            onClick={()=> {\r\n\r\n              // changed to article.cluster\r\n              DisplayRecommend(article.Category)\r\n\r\n            }}\r\n          >Recommended </Button>\r\n        \r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ArticleDetails;\r\n"]},"metadata":{},"sourceType":"module"}