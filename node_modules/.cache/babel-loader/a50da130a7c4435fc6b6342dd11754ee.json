{"ast":null,"code":"import _slicedToArray from\"/mnt/c/capstone/connect/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Modal from\"react-bootstrap/Modal\";import Button from\"react-bootstrap/Button\";import saveNoteCom from\"../utils/saveNoteCom\";import deleteNote from\"../utils/deleteNote\";import{useAuth0}from\"@auth0/auth0-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NoteDetails=function NoteDetails(_ref){var note=_ref.note;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),updateNote=_useState4[0],setUpdateNote=_useState4[1];var _useState5=useState(note.note),_useState6=_slicedToArray(_useState5,2),noteText=_useState6[0],setNoteText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showDeleteButton=_useState8[0],setShowDeleteButton=_useState8[1];var _useAuth=useAuth0(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated;var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var handleUpdateNoteClick=function handleUpdateNoteClick(){setUpdateNote(true);setShowDeleteButton(true);};var handleNoteChange=function handleNoteChange(event){return setNoteText(event.target.value);};var handleNoteUpdate=function handleNoteUpdate(){console.log(user.email);console.log(noteText);console.log(note.articleTitle);console.log(note.URL);saveNoteCom(user.email,noteText,note.articleTitle,note.URL);setUpdateNote(false);setShowDeleteButton(false);};var handleDeleteNoteClick=function handleDeleteNoteClick(){if(window.confirm(\"Are you sure you want to delete this note?\")){deleteNote(user.email,note.articleTitle,note.URL);alert(\"Note deleted.\");handleClose();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleShow,children:\"Open Note\"}),/*#__PURE__*/_jsxs(Modal,{size:\"md\",style:{width:\"100%\"},show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,display:\"flex\",children:/*#__PURE__*/_jsx(Modal.Title,{style:{textAlign:\"center\",marginRight:\"auto\"},children:note.articleTitle})}),/*#__PURE__*/_jsxs(Modal.Body,{style:{color:\"black\",fontWeight:\"bold\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"p\",{}),updateNote?/*#__PURE__*/_jsx(\"textarea\",{id:\"note\",value:noteText,onChange:handleNoteChange}):note.note]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(\"a\",{href:note.URL,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Link to Article\"})}),isAuthenticated&&!updateNote&&/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleUpdateNoteClick,children:\"Update Note\"}),showDeleteButton&&/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleDeleteNoteClick,children:\"Delete\"}),updateNote?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleNoteUpdate,children:\"Update Note\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){setUpdateNote(false);setShowDeleteButton(false);},children:\"Cancel\"})]}):/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})]})]})]});};export default NoteDetails;","map":{"version":3,"sources":["/mnt/c/capstone/connect/src/components/NoteDetails.js"],"names":["React","useState","Modal","Button","saveNoteCom","deleteNote","useAuth0","NoteDetails","note","show","setShow","updateNote","setUpdateNote","noteText","setNoteText","showDeleteButton","setShowDeleteButton","user","isAuthenticated","handleClose","handleShow","handleUpdateNoteClick","handleNoteChange","event","target","value","handleNoteUpdate","console","log","email","articleTitle","URL","handleDeleteNoteClick","window","confirm","alert","width","textAlign","marginRight","color","fontWeight","display","flexDirection","justifyContent"],"mappings":"6GAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,OAASC,QAAT,KAAyB,oBAAzB,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAChC,cAAwBP,QAAQ,CAAC,KAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAoCT,QAAQ,CAAC,KAAD,CAA5C,yCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAAgCX,QAAQ,CAACO,IAAI,CAACA,IAAN,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAgDb,QAAQ,CAAC,KAAD,CAAxD,yCAAOc,gBAAP,eAAyBC,mBAAzB,eACA,aAAkCV,QAAQ,EAA1C,CAAQW,IAAR,UAAQA,IAAR,CAAcC,eAAd,UAAcA,eAAd,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMT,CAAAA,OAAO,CAAC,KAAD,CAAb,EAApB,CACA,GAAMU,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMV,CAAAA,OAAO,CAAC,IAAD,CAAb,EAAnB,CACA,GAAMW,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClCT,aAAa,CAAC,IAAD,CAAb,CACAI,mBAAmB,CAAC,IAAD,CAAnB,CACD,CAHD,CAIA,GAAMM,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,QAAWT,CAAAA,WAAW,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EAAzB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BC,OAAO,CAACC,GAAR,CAAYX,IAAI,CAACY,KAAjB,EACAF,OAAO,CAACC,GAAR,CAAYf,QAAZ,EACAc,OAAO,CAACC,GAAR,CAAYpB,IAAI,CAACsB,YAAjB,EACAH,OAAO,CAACC,GAAR,CAAYpB,IAAI,CAACuB,GAAjB,EACA3B,WAAW,CAACa,IAAI,CAACY,KAAN,CAAahB,QAAb,CAAuBL,IAAI,CAACsB,YAA5B,CAA0CtB,IAAI,CAACuB,GAA/C,CAAX,CACAnB,aAAa,CAAC,KAAD,CAAb,CACAI,mBAAmB,CAAC,KAAD,CAAnB,CACD,CARD,CASA,GAAMgB,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClC,GAAIC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAJ,CAAkE,CAChE7B,UAAU,CAACY,IAAI,CAACY,KAAN,CAAarB,IAAI,CAACsB,YAAlB,CAAgCtB,IAAI,CAACuB,GAArC,CAAV,CACAI,KAAK,CAAC,eAAD,CAAL,CACAhB,WAAW,GACZ,CACF,CAND,CAQA,mBACE,wCACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAEC,UAAnC,uBADF,cAKE,MAAC,KAAD,EACE,IAAI,CAAE,IADR,CAEE,KAAK,CAAE,CAAEgB,KAAK,CAAE,MAAT,CAFT,CAGE,IAAI,CAAE3B,IAHR,CAIE,MAAM,CAAEU,WAJV,wBAME,KAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,CAA0B,OAAO,CAAC,MAAlC,uBACE,KAAC,KAAD,CAAO,KAAP,EACE,KAAK,CAAE,CAAEkB,SAAS,CAAE,QAAb,CAAuBC,WAAW,CAAE,MAApC,CADT,UAGG9B,IAAI,CAACsB,YAHR,EADF,EANF,cAaE,MAAC,KAAD,CAAO,IAAP,EACE,KAAK,CAAE,CACLS,KAAK,CAAE,OADF,CAELC,UAAU,CAAE,MAFP,CAGLC,OAAO,CAAE,MAHJ,CAILC,aAAa,CAAE,KAJV,CAKLC,cAAc,CAAE,eALX,CADT,wBASE,YATF,CAUGhC,UAAU,cACT,iBACE,EAAE,CAAC,MADL,CAEE,KAAK,CAAEE,QAFT,CAGE,QAAQ,CAAES,gBAHZ,EADS,CAOTd,IAAI,CAACA,IAjBT,GAbF,cAkCE,MAAC,KAAD,CAAO,MAAP,yBACE,UAAG,IAAI,CAAEA,IAAI,CAACuB,GAAd,CAAmB,MAAM,CAAC,QAA1B,CAAmC,GAAG,CAAC,qBAAvC,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,6BADF,EADF,CAIGb,eAAe,EAAI,CAACP,UAApB,eACC,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAEU,qBAAnC,yBALJ,CASGN,gBAAgB,eACf,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,OAAO,CAAEiB,qBAAlC,oBAVJ,CAcGrB,UAAU,cACT,wCACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAEe,gBAAnC,yBADF,cAIE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,OAAO,CAAE,kBAAM,CACbd,aAAa,CAAC,KAAD,CAAb,CACAI,mBAAmB,CAAC,KAAD,CAAnB,CACD,CALH,oBAJF,GADS,cAgBT,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,CAAEG,WAArC,mBA9BJ,GAlCF,GALF,GADF,CA8ED,CA7GD,CA+GA,cAAeZ,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport saveNoteCom from \"../utils/saveNoteCom\";\r\nimport deleteNote from \"../utils/deleteNote\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst NoteDetails = ({ note }) => {\r\n  const [show, setShow] = useState(false);\r\n  const [updateNote, setUpdateNote] = useState(false);\r\n  const [noteText, setNoteText] = useState(note.note);\r\n  const [showDeleteButton, setShowDeleteButton] = useState(false);\r\n  const { user, isAuthenticated } = useAuth0();\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleUpdateNoteClick = () => {\r\n    setUpdateNote(true);\r\n    setShowDeleteButton(true);\r\n  };\r\n  const handleNoteChange = (event) => setNoteText(event.target.value);\r\n  const handleNoteUpdate = () => {\r\n    console.log(user.email)\r\n    console.log(noteText)\r\n    console.log(note.articleTitle)\r\n    console.log(note.URL)\r\n    saveNoteCom(user.email, noteText, note.articleTitle, note.URL);\r\n    setUpdateNote(false);\r\n    setShowDeleteButton(false);\r\n  };\r\n  const handleDeleteNoteClick = () => {\r\n    if (window.confirm(\"Are you sure you want to delete this note?\")) {\r\n      deleteNote(user.email, note.articleTitle, note.URL);\r\n      alert(\"Note deleted.\");\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Open Note\r\n      </Button>\r\n\r\n      <Modal\r\n        size={\"md\"}\r\n        style={{ width: \"100%\" }}\r\n        show={show}\r\n        onHide={handleClose}\r\n      >\r\n        <Modal.Header closeButton display=\"flex\">\r\n          <Modal.Title\r\n            style={{ textAlign: \"center\", marginRight: \"auto\" }}\r\n          >\r\n            {note.articleTitle}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body\r\n          style={{\r\n            color: \"black\",\r\n            fontWeight: \"bold\",\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <p></p>\r\n          {updateNote ? (\r\n            <textarea\r\n              id=\"note\"\r\n              value={noteText}\r\n              onChange={handleNoteChange}\r\n            />\r\n          ) : (\r\n            note.note\r\n          )}\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <a href={note.URL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <Button variant=\"primary\">Link to Article</Button>\r\n          </a>\r\n          {isAuthenticated && !updateNote && (\r\n            <Button variant=\"primary\" onClick={handleUpdateNoteClick}>\r\n              Update Note\r\n            </Button>\r\n          )}\r\n          {showDeleteButton && (\r\n            <Button variant=\"danger\" onClick={handleDeleteNoteClick}>\r\n              Delete\r\n            </Button>\r\n          )}\r\n          {updateNote ? (\r\n            <>\r\n              <Button variant=\"primary\" onClick={handleNoteUpdate}>\r\n                Update Note\r\n              </Button>\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => {\r\n                  setUpdateNote(false);\r\n                  setShowDeleteButton(false);\r\n                }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Close\r\n            </Button>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteDetails;\r\n"]},"metadata":{},"sourceType":"module"}