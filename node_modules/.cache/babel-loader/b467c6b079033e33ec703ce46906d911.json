{"ast":null,"code":"var _jsxFileName = \"/mnt/c/capstone/connect/src/Frontend/Pages/archives/a_macro.js\";\nimport React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Image from \"../../components/Image.jpg\";\nimport \"../components/test-card.css\";\nimport ArticleDetails from '../components/ArticleDetails';\nimport Pagination from '../components/Pagination';\nimport { serverUrl } from \"../../../config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ArcMacro extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      articles: [],\n      openArticle: -1,\n      selectArticle: -1,\n      currentPage: 1\n    };\n  }\n\n  componentDidMount() {\n    const currentDate = new Date();\n    const threeMonthsAgo = new Date(currentDate.getFullYear(), currentDate.getMonth() - 3, 1); // set to the first day of 3 months ago\n\n    const startDate = new Date(1969, 0, 1); // set to January 1, 1969\n\n    fetch(`${serverUrl}/macro_articles/?format=json&Date__gte=${startDate.toISOString()}&Date__lt=${threeMonthsAgo.toISOString()}`).then(res => res.json()).then(result => {\n      // Sort the articles by date in descending order\n      result.sort((a, b) => new Date(b.Date) - new Date(a.Date));\n      this.setState({\n        isLoaded: true,\n        articles: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      articles,\n      selectArticle,\n      openArticle,\n      currentPage,\n      selectButton\n    } = this.state;\n    const articlesPerPage = 12; // number of articles to display per page\n\n    const truncate = input => (input === null || input === void 0 ? void 0 : input.length) > 300 ? `${input.substring(0, 254)}...` : input;\n\n    const openFullArticle = id => this.setState({\n      openArticle: id\n    });\n\n    const selectedArticle = id => this.setState({\n      selectArticle: id\n    });\n\n    const selectedButton = id => this.setState({\n      selectButton: id\n    });\n\n    const indexOfLastArticle = currentPage * articlesPerPage;\n    const indexOfFirstArticle = indexOfLastArticle - articlesPerPage;\n    const currentArticles = articles.slice(indexOfFirstArticle, indexOfLastArticle);\n\n    const handlePageChange = pageNumber => {\n      this.setState({\n        currentPage: pageNumber\n      });\n    };\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 14\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-column mt-3 test-cards\",\n              children: currentArticles.map(article => /*#__PURE__*/_jsxDEV(Card, {\n                className: \"cards test-card\",\n                style: {\n                  width: \"20rem\",\n                  minheight: \"25px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  style: {\n                    height: \"200px\"\n                  },\n                  variant: \"top\",\n                  src: article.Image ? article.Image : Image,\n                  className: \"img-fluid\",\n                  alt: \"Responsive image\",\n                  onClick: () => {\n                    selectedArticle(article._id);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    onClick: () => {\n                      selectedArticle(article._id);\n                    },\n                    children: article.Title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      cursor: 'pointer'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      onClick: () => {\n                        openFullArticle(article._id);\n                      },\n                      children: openArticle !== article._id ? truncate(article.Summary) : article.Summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                  className: \"list-group-flush\",\n                  onClick: () => {\n                    selectedArticle(article._id);\n                  },\n                  children: [selectArticle !== article._id ? '' : /*#__PURE__*/_jsxDEV(ArticleDetails, {\n                    article: article,\n                    className: \"popupModal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [\"Written by:  \", article.Author || 'none']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [\"Read Time: \", article.Read_Time, \" min\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [\"Date: \", article.Date ? article.Date : 'NA']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        textAlign: 'center'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        style: {\n                          backgroundColor: \"darkgreen\",\n                          border: \"darkgreen 1px solid\"\n                        },\n                        onClick: () => {\n                          selectedButton(article._id);\n                        },\n                        children: [\"Read More\", selectButton !== article._id ? '' : /*#__PURE__*/_jsxDEV(ArticleDetails, {\n                          article: article,\n                          className: \"popupModal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 21\n                }, this)]\n              }, article.index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          currentPage: currentPage,\n          setCurrentPage: handlePageChange,\n          totalArticles: articles.length,\n          articlesPerPage: articlesPerPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\nexport default ArcMacro;","map":{"version":3,"sources":["/mnt/c/capstone/connect/src/Frontend/Pages/archives/a_macro.js"],"names":["React","Component","Card","Button","Container","Row","ListGroup","Image","ArticleDetails","Pagination","serverUrl","ArcMacro","constructor","props","state","error","isLoaded","articles","openArticle","selectArticle","currentPage","componentDidMount","currentDate","Date","threeMonthsAgo","getFullYear","getMonth","startDate","fetch","toISOString","then","res","json","result","sort","a","b","setState","render","selectButton","articlesPerPage","truncate","input","length","substring","openFullArticle","id","selectedArticle","selectedButton","indexOfLastArticle","indexOfFirstArticle","currentArticles","slice","handlePageChange","pageNumber","message","map","article","width","minheight","height","_id","Title","cursor","Summary","Author","Read_Time","textAlign","backgroundColor","border","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Image from \"../../components/Image.jpg\";\r\nimport \"../components/test-card.css\";\r\nimport ArticleDetails from '../components/ArticleDetails';\r\nimport Pagination from '../components/Pagination';\r\nimport { serverUrl } from \"../../../config.js\";\r\n\r\nexport class ArcMacro extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      articles: [],\r\n      openArticle: -1,\r\n      selectArticle: -1,\r\n      currentPage: 1\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const currentDate = new Date();\r\n    const threeMonthsAgo = new Date(currentDate.getFullYear(), currentDate.getMonth() - 3, 1); // set to the first day of 3 months ago\r\n    const startDate = new Date(1969, 0, 1); // set to January 1, 1969\r\n  \r\n    fetch(`${serverUrl}/macro_articles/?format=json&Date__gte=${startDate.toISOString()}&Date__lt=${threeMonthsAgo.toISOString()}`)\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          // Sort the articles by date in descending order\r\n          result.sort((a, b) => new Date(b.Date) - new Date(a.Date));\r\n  \r\n          this.setState({\r\n            isLoaded: true,\r\n            articles: result, \r\n          });\r\n        },\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error,\r\n          });\r\n        }\r\n      );\r\n  }\r\n  \r\n\r\n  render() {\r\n    const { error, isLoaded, articles, selectArticle, openArticle, currentPage, selectButton } = this.state;\r\n    const articlesPerPage = 12; // number of articles to display per page\r\n\r\n    const truncate = (input) =>\r\n      input?.length > 300 ? `${input.substring(0, 254)}...` : input;\r\n\r\n    const openFullArticle = (id) =>\r\n      this.setState({\r\n        openArticle: id\r\n      });\r\n\r\n    const selectedArticle = (id) =>\r\n      this.setState({\r\n        selectArticle: id\r\n      });\r\n\r\n      const selectedButton = (id) =>\r\n      this.setState({\r\n        selectButton: id\r\n      });\r\n\r\n    const indexOfLastArticle = currentPage * articlesPerPage;\r\n    const indexOfFirstArticle = indexOfLastArticle - articlesPerPage;\r\n    const currentArticles = articles.slice(indexOfFirstArticle, indexOfLastArticle);\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n      this.setState({\r\n        currentPage: pageNumber\r\n      });\r\n    };\r\n\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <div>Loading...</div>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Container>\r\n            <Row>\r\n              <div className=\"card-column mt-3 test-cards\">\r\n                {currentArticles.map((article) => (\r\n                  <Card\r\n                    className=\"cards test-card\"\r\n                    style={{\r\n                      width: \"20rem\",\r\n                      minheight: \"25px\"\r\n                    }}\r\n                    key={article.index}\r\n                  >\r\n                    { <Card.Img style ={{height: \"200px\"}} variant=\"top\" src={article.Image ? article.Image : Image} className=\"img-fluid\" alt=\"Responsive image\" \r\n                    onClick={() =>{selectedArticle(article._id)} }/> }\r\n                    <Card.Body>\r\n                      <Card.Title \r\n                    onClick={() =>{selectedArticle(article._id)} }>\r\n                      {article.Title}\r\n                      </Card.Title>\r\n                      <Card.Text\r\n                        style={{\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        <p onClick={() => {openFullArticle(article._id)} }>\r\n                          {openArticle !== article._id? truncate(article.Summary): article.Summary}\r\n                        </p>\r\n                      </Card.Text>\r\n                    </Card.Body >\r\n                    <ListGroup className=\"list-group-flush\" \r\n                     onClick={() =>{selectedArticle(article._id)} }>\r\n                     {selectArticle !== article._id? '':\r\n                       <ArticleDetails article={article} className=\"popupModal\"/>\r\n                     }\r\n                      <ListGroup.Item>Written by:  {article.Author || 'none'}</ListGroup.Item>\r\n                      <ListGroup.Item>Read Time: {article.Read_Time} min</ListGroup.Item>\r\n                      <ListGroup.Item>Date: {article.Date ? article.Date : 'NA'}</ListGroup.Item>\r\n                      <ListGroup.Item>\r\n                      <div style={{textAlign: 'center'}}>\r\n                      <Button\r\n                        variant=\"primary\"\r\n                        style={{\r\n                          backgroundColor: \"darkgreen\",\r\n                          border: \"darkgreen 1px solid\",\r\n                        }}\r\n                        onClick={() =>{selectedButton(article._id)} }>Read More\r\n                        {selectButton !== article._id? '': \r\n                          <ArticleDetails article={article} className=\"popupModal\"/>\r\n                          \r\n                        } \r\n                      </Button> \r\n                      </div>\r\n                      </ListGroup.Item>\r\n                    </ListGroup>\r\n                    {/* <Card.Body className= \"card-actions\">\r\n                    <Button\r\n                        variant=\"primary\"\r\n                        style={{\r\n                          backgroundColor: \"darkgreen\",\r\n                          border: \"darkgreen 1px solid\",\r\n                        }}\r\n                        onClick={() =>{selectedArticle(article._id)} }>\r\n                        {selectArticle !== article._id? 'Read More':\r\n                          <ArticleDetails article={article} className=\"popupModal\"/>\r\n                        } \r\n                      </Button> \r\n                      <Card.Link to={article.URL} className= \"card-link\" href={article.URL} target= \"_blank\">Link to article</Card.Link>\r\n                      </Card.Body> */}\r\n                   </Card> \r\n                ))}\r\n              </div>\r\n            </Row>\r\n          </Container>\r\n          <Pagination\r\n            currentPage={currentPage}\r\n            setCurrentPage={handlePageChange}\r\n            totalArticles={articles.length}\r\n            articlesPerPage={articlesPerPage}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ArcMacro;\r\n"]},"metadata":{},"sourceType":"module"}