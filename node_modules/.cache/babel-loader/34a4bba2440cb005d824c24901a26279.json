{"ast":null,"code":"var _jsxFileName = \"/mnt/c/capstone/connect/src/editProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { serverUrl } from \"./config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateUsername = () => {\n  _s();\n\n  const {\n    user,\n    isAuthenticated\n  } = useAuth0();\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleUpdate = async event => {\n    event.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: user.email,\n        username\n      })\n    };\n\n    try {\n      const response = await fetch(`${serverUrl}/update_username/`, requestOptions);\n      const data = await response.json();\n\n      if (!data.error) {\n        setMessage('Successfully updated username!');\n      } else {\n        setMessage('Error updating username.');\n      }\n\n      console.log(data);\n    } catch (error) {\n      console.error(error);\n      setMessage('Error updating username.');\n    }\n  };\n\n  return isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Update Your Username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdate,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"New Username:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        children: \"Back to Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Please log in to update your username.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateUsername, \"DZj7EQryLmqFV0CjXag1J1fnmiQ=\", false, function () {\n  return [useAuth0];\n});\n\n_c = UpdateUsername;\nexport default UpdateUsername;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateUsername\");","map":{"version":3,"sources":["/mnt/c/capstone/connect/src/editProfile.js"],"names":["React","useState","Link","useAuth0","serverUrl","UpdateUsername","user","isAuthenticated","username","setUsername","message","setMessage","handleUpdate","event","preventDefault","requestOptions","method","headers","body","JSON","stringify","email","response","fetch","data","json","error","console","log","e","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,SAAT,QAA0B,aAA1B;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAE3B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAA4BJ,QAAQ,EAA1C;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMW,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpCA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFY;AAGrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,KAAK,EAAEf,IAAI,CAACe,KAAd;AAAqBb,QAAAA;AAArB,OAAf;AAHe,KAAvB;;AAMA,QAAI;AACF,YAAMc,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEnB,SAAU,mBAAd,EAAkCW,cAAlC,CAA5B;AACA,YAAMS,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AACA,UAAI,CAACD,IAAI,CAACE,KAAV,EAAiB;AACff,QAAAA,UAAU,CAAC,gCAAD,CAAV;AACD,OAFD,MAEO;AACLA,QAAAA,UAAU,CAAC,0BAAD,CAAV;AACD;;AACDgB,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD,KATD,CASE,OAAOE,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAf,MAAAA,UAAU,CAAC,0BAAD,CAAV;AACD;AACF,GAtBD;;AAwBA,SAAOJ,eAAe,gBACpB;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAM,MAAA,QAAQ,EAAEK,YAAhB;AAAA,8BACE;AAAA,iDAEE;AAAU,UAAA,KAAK,EAAEJ,QAAjB;AAA2B,UAAA,QAAQ,EAAGqB,CAAD,IAAOpB,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV;AAAvD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA;AAAA;AAAA;AAAA,cARF,EASGrB,OAAO,iBAAI;AAAA,kBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA,cATd;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADoB,gBAgBpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAhBF;AAkBD,CAhDD;;GAAML,c;UAE8BF,Q;;;KAF9BE,c;AAkDN,eAAeA,cAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { serverUrl } from \"./config.js\";\r\n\r\nconst UpdateUsername = () => {\r\n\r\n  const { user, isAuthenticated } = useAuth0();\r\n  const [username, setUsername] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleUpdate = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email: user.email, username })\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`${serverUrl}/update_username/`, requestOptions);\r\n      const data = await response.json();\r\n      if (!data.error) {\r\n        setMessage('Successfully updated username!');\r\n      } else {\r\n        setMessage('Error updating username.');\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setMessage('Error updating username.');\r\n    }\r\n  };\r\n\r\n  return isAuthenticated ? (\r\n    <div>\r\n      <h2>Update Your Username</h2>\r\n      <form onSubmit={handleUpdate}>\r\n        <label>\r\n          New Username:\r\n          <textarea value={username} onChange={(e) => setUsername(e.target.value)} />\r\n        </label>\r\n        <br />\r\n        <button type=\"submit\">Update</button>\r\n        <Link to=\"/profile\">Back to Profile</Link>\r\n        <br />\r\n        {message && <p>{message}</p>}\r\n      </form>\r\n    </div>\r\n  ) : (\r\n    <div>Please log in to update your username.</div>\r\n  );\r\n};\r\n\r\nexport default UpdateUsername;\r\n"]},"metadata":{},"sourceType":"module"}