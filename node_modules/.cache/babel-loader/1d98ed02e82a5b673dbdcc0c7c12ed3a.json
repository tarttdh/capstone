{"ast":null,"code":"import _asyncToGenerator from\"/mnt/c/capstone/connect/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/mnt/c/capstone/connect/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/mnt/c/capstone/connect/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{useAuth0}from'@auth0/auth0-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateUsername=function UpdateUsername(){var _useAuth=useAuth0(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var handleUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var requestOptions,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:user.email,username:username})};_context.prev=2;_context.next=5;return fetch('http://localhost:5001/update_username/',requestOptions);case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;if(!data.error){setMessage('Successfully updated username!');}else{setMessage('Error updating username.');}console.log(data);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setMessage('Error updating username.');case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function handleUpdate(_x){return _ref.apply(this,arguments);};}();return isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Your Username\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"New Username:\",/*#__PURE__*/_jsx(\"textarea\",{value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Back to Profile\"}),/*#__PURE__*/_jsx(\"br\",{}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Please log in to update your username.\"});};export default UpdateUsername;","map":{"version":3,"sources":["/mnt/c/capstone/connect/src/editProfile.js"],"names":["React","useState","Link","useAuth0","UpdateUsername","user","isAuthenticated","username","setUsername","message","setMessage","handleUpdate","event","preventDefault","requestOptions","method","headers","body","JSON","stringify","email","fetch","response","json","data","error","console","log","e","target","value"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,oBAAzB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAE3B,aAAkCD,QAAQ,EAA1C,CAAQE,IAAR,UAAQA,IAAR,CAAcC,eAAd,UAAcA,eAAd,CACA,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA8BP,QAAQ,CAAC,EAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,mJACnBA,KAAK,CAACC,cAAN,GAEMC,cAHa,CAGI,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFY,CAGrBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,KAAK,CAAEf,IAAI,CAACe,KAAd,CAAqBb,QAAQ,CAARA,QAArB,CAAf,CAHe,CAHJ,uCAUMc,CAAAA,KAAK,CAAC,wCAAD,CAA2CP,cAA3C,CAVX,QAUXQ,QAVW,qCAWEA,CAAAA,QAAQ,CAACC,IAAT,EAXF,QAWXC,IAXW,eAYjB,GAAI,CAACA,IAAI,CAACC,KAAV,CAAiB,CACff,UAAU,CAAC,gCAAD,CAAV,CACD,CAFD,IAEO,CACLA,UAAU,CAAC,0BAAD,CAAV,CACD,CACDgB,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAjBiB,iFAmBjBE,OAAO,CAACD,KAAR,cACAf,UAAU,CAAC,0BAAD,CAAV,CApBiB,qEAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAwBA,MAAOL,CAAAA,eAAe,cACpB,oCACE,4CADF,cAEE,cAAM,QAAQ,CAAEK,YAAhB,wBACE,sDAEE,iBAAU,KAAK,CAAEJ,QAAjB,CAA2B,QAAQ,CAAE,kBAACqB,CAAD,QAAOpB,CAAAA,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAArC,EAFF,GADF,cAKE,aALF,cAME,eAAQ,IAAI,CAAC,QAAb,oBANF,cAOE,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,6BAPF,cAQE,aARF,CASGrB,OAAO,eAAI,mBAAIA,OAAJ,EATd,GAFF,GADoB,cAgBpB,+DAhBF,CAkBD,CAhDD,CAkDA,cAAeL,CAAAA,cAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst UpdateUsername = () => {\r\n\r\n  const { user, isAuthenticated } = useAuth0();\r\n  const [username, setUsername] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleUpdate = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email: user.email, username })\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5001/update_username/', requestOptions);\r\n      const data = await response.json();\r\n      if (!data.error) {\r\n        setMessage('Successfully updated username!');\r\n      } else {\r\n        setMessage('Error updating username.');\r\n      }\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setMessage('Error updating username.');\r\n    }\r\n  };\r\n\r\n  return isAuthenticated ? (\r\n    <div>\r\n      <h2>Update Your Username</h2>\r\n      <form onSubmit={handleUpdate}>\r\n        <label>\r\n          New Username:\r\n          <textarea value={username} onChange={(e) => setUsername(e.target.value)} />\r\n        </label>\r\n        <br />\r\n        <button type=\"submit\">Update</button>\r\n        <Link to=\"/profile\">Back to Profile</Link>\r\n        <br />\r\n        {message && <p>{message}</p>}\r\n      </form>\r\n    </div>\r\n  ) : (\r\n    <div>Please log in to update your username.</div>\r\n  );\r\n};\r\n\r\nexport default UpdateUsername;\r\n"]},"metadata":{},"sourceType":"module"}